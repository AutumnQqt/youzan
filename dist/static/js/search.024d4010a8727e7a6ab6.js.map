{"version":3,"sources":["webpack:///./src/modules/js/api.js","webpack:///./src/modules/js/mixins.js","webpack:///./src/pages/search/search.js"],"names":["url","hotLists","banner","topLists","rankLists","subLists","searchLists","goods","cartLists","cartAdd","cartReduce","cartMrremove","cartRemove","addressList","addressAdd","addressRemove","addressUpdate","addressSetDefault","key","mixins","filters","formatPrice","price","small","toString","split","length","toFixed","Object","defineProperty","__webpack_exports__","value","__WEBPACK_IMPORTED_MODULE_0__search_css__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_1__modules_css_common_css__","n","__WEBPACK_IMPORTED_MODULE_2_vue__","__WEBPACK_IMPORTED_MODULE_3_axios__","__WEBPACK_IMPORTED_MODULE_3_axios___default","__WEBPACK_IMPORTED_MODULE_4__modules_js_api_js__","__WEBPACK_IMPORTED_MODULE_5_qs__","__WEBPACK_IMPORTED_MODULE_5_qs___default","__WEBPACK_IMPORTED_MODULE_6_velocity_animate__","__WEBPACK_IMPORTED_MODULE_6_velocity_animate___default","__WEBPACK_IMPORTED_MODULE_7__modules_js_mixins_js__","__WEBPACK_IMPORTED_MODULE_8_mint_ui__","__WEBPACK_IMPORTED_MODULE_8_mint_ui___default","Vue","use","Mint","InfiniteScroll","el","data","id","keyword","toTop","loading","allLoaded","pageNum","pageSize","created","this","parseInt","qs","parse","location","search","getSearchList","methods","_this","axios","get","then","res","curLists","lists","concat","showToTop","event","document","documentElement","scrollTop","goToTop","Velocity","duration","mixin"],"mappings":"kGAGA,IACIA,GAEFC,SAAU,iBACVC,OAAQ,eAERC,SAAU,mBACVC,UAAW,gBACXC,SAAU,mBACVC,YAAa,cAEbC,MAAO,gBAEPC,UAAW,YACXC,QAAS,WACTC,WAAY,cACZC,aAAc,gBACdC,WAAY,cAEZC,YAAa,eACbC,WAAY,cACZC,cAAe,iBACfC,cAAe,iBACfC,kBAAmB,sBAGrB,IAAK,IAAIC,KAAOlB,EACdA,EAAIkB,GA3BK,uDA2BSlB,EAAIkB,GAGTlB,yCClBAmB,KAdbC,SACEC,YADO,SACKC,GACV,IAAIC,EAAQD,EAAME,WAAWC,MAAM,KAAK,GACxC,OAAKF,EAEuB,IAAjBA,EAAMG,OACRJ,EAAQ,IAERA,EAAMK,QAAQ,GAJdL,EAAQ,4CCLvBM,OAAAC,eAAAC,EAAA,cAAAC,OAAA,QAAAC,EAAAC,EAAA,QAAAC,GAAAD,EAAAE,EAAAH,GAAAC,EAAA,SAAAG,GAAAH,EAAAE,EAAAD,GAAAD,EAAA,SAAAI,EAAAJ,EAAA,QAAAK,EAAAL,EAAAE,EAAAE,GAAAE,EAAAN,EAAA,QAAAO,EAAAP,EAAA,QAAAQ,EAAAR,EAAAE,EAAAK,GAAAE,EAAAT,EAAA,QAAAU,EAAAV,EAAAE,EAAAO,GAAAE,EAAAX,EAAA,QAAAY,EAAAZ,EAAA,QAAAa,EAAAb,EAAAE,EAAAU,GAWAE,UAAIC,IAAIC,KAERF,UAAIC,IAAIE,kBAEE,IAAIH,WACZI,GAAI,OACJC,MACEC,GAAI,EACJC,QAAS,GACThD,YAAa,KACbiD,OAAO,EACPC,SAAS,EACTC,WAAW,EACXC,QAAS,EACTC,SAAU,GAEZC,QAZgB,WAadC,KAAKR,GAAKS,SAASC,IAAGC,MAAMC,SAASC,OAAOzC,MAAM,KAAK,IAAI4B,KAAO,EAClEQ,KAAKP,QAAUS,IAAGC,MAAMC,SAASC,OAAOzC,MAAM,KAAK,IAAI6B,QACvDO,KAAKM,iBAEPC,SACED,cADO,WACS,IAAAE,EAAAR,KACVA,KAAKJ,YACTI,KAAKL,SAAU,EACfc,IAAMC,IAAIvE,IAAIM,aACZ+C,GAAIQ,KAAKR,GACTK,QAASG,KAAKH,QACdC,SAAUE,KAAKF,WACda,KAAK,SAAAC,GACN,IAAIC,EAAWD,EAAIrB,KAAKuB,MACpBD,EAAShD,OAAS2C,EAAKV,WACzBU,EAAKZ,WAAY,GAEfY,EAAK/D,YACP+D,EAAK/D,YAAc+D,EAAK/D,YAAYsE,OAAOF,GAE3CL,EAAK/D,YAAcmE,EAAIrB,KAAKuB,MAE9BN,EAAKX,SAAW,EAChBW,EAAKb,SAAU,MAGnBqB,UAtBO,SAsBGC,GACJC,SAASC,gBAAgBC,UAAY,IACvCpB,KAAKN,OAAQ,EAEbM,KAAKN,OAAQ,GAGjB2B,QA7BO,WA8BLC,IAASJ,SAASC,gBAAiB,UAAYI,SAAU,MACzDvB,KAAKN,OAAQ,IAGjBpC,QAASkE","file":"static/js/search.024d4010a8727e7a6ab6.js","sourcesContent":["// var host = 'http://rap2api.taobao.org/app/mock/7058/'\r\n// var host = 'http://rap2api.taobao.org/app/mock/177712/'\r\n// var host = 'http://yapi.demo.qunar.com/mock/69353/'\r\nvar host = 'https://easy-mock.com/mock/5cee34b56cd1db2fd269b2a4/'\r\nvar url = {\r\n  // 首页\r\n  hotLists: 'index/hotLists',\r\n  banner: 'index/banner',\r\n  // 分类页\r\n  topLists: 'category/topList',\r\n  rankLists: 'category/rank',\r\n  subLists: 'category/subList',\r\n  searchLists: 'search/list',\r\n  // 商品详情页\r\n  goods: 'goods/details',\r\n  // 购物车\r\n  cartLists: 'cart/list',\r\n  cartAdd: 'cart/add',\r\n  cartReduce: 'cart/reduce',\r\n  cartMrremove: 'cart/mrremove',\r\n  cartRemove: 'cart/remove',\r\n  //个人地址\r\n  addressList: 'address/list',\r\n  addressAdd: 'address/add',\r\n  addressRemove: 'address/remove',\r\n  addressUpdate: 'address/update',\r\n  addressSetDefault: 'address/setDefault'\r\n\r\n}\r\nfor (var key in url) {\r\n  url[key] = host + url[key]\r\n}\r\n\r\nexport default url\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/api.js","var mixins = {\r\n  filters: {\r\n    formatPrice(price) {\r\n      var small = price.toString().split(\".\")[1]\r\n      if (!small) {\r\n        return price + '.00'\r\n      } else if (small.length === 1) {\r\n        return price + '0'\r\n      } else {\r\n        return price.toFixed(2)\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default mixins\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/mixins.js","import './search.css'\r\nimport '@/modules/css/common.css'\r\n\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport url from '@/modules/js/api.js'\r\nimport qs from 'qs'\r\nimport Velocity from 'velocity-animate'\r\n\r\nimport mixin from '@/modules/js/mixins.js'\r\nimport Mint from 'mint-ui'\r\nVue.use(Mint)\r\nimport { InfiniteScroll } from 'mint-ui'\r\nVue.use(InfiniteScroll)\r\n\r\nvar app = new Vue({\r\n  el: '#app',\r\n  data: {\r\n    id: 0,\r\n    keyword: '',\r\n    searchLists: null,\r\n    toTop: false,\r\n    loading: true,\r\n    allLoaded: false,\r\n    pageNum: 1,\r\n    pageSize: 6\r\n  },\r\n  created() {\r\n    this.id = parseInt(qs.parse(location.search.split('?')[1]).id) || 0\r\n    this.keyword = qs.parse(location.search.split('?')[1]).keyword\r\n    this.getSearchList()\r\n  },\r\n  methods: {\r\n    getSearchList() {      \r\n      if (this.allLoaded) return\r\n      this.loading = true\r\n      axios.get(url.searchLists, {\r\n        id: this.id,\r\n        pageNum: this.pageNum,\r\n        pageSize: this.pageSize\r\n      }).then(res => {\r\n        var curLists = res.data.lists\r\n        if (curLists.length < this.pageSize) {\r\n          this.allLoaded = true\r\n        }\r\n        if (this.searchLists) {\r\n          this.searchLists = this.searchLists.concat(curLists)\r\n        } else {\r\n          this.searchLists = res.data.lists\r\n        }\r\n        this.pageNum += 1\r\n        this.loading = false\r\n      })\r\n    },\r\n    showToTop(event) {\r\n      if (document.documentElement.scrollTop > 100) {\r\n        this.toTop = true\r\n      } else {\r\n        this.toTop = false\r\n      }\r\n    },\r\n    goToTop() {\r\n      Velocity(document.documentElement, 'scroll', { duration: 1000 });\r\n      this.toTop = false\r\n    }\r\n  },\r\n  mixins: [mixin]\r\n\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.js"],"sourceRoot":""}